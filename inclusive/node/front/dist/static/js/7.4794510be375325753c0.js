webpackJsonp([7],{"0Sx6":function(t,s){},CGXz:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=n("l/JR"),i={data:function(){return{tipsContent:"",isMove:!1,current:null,showtips:!1,showtip:!1,tipsTitle:"您还没有完善您的融资需求，是否立刻去完善",companyList:[],currCompany:{id:1},reasonMask:{show:!1,companyId:"",reasonMsgArr:[]}}},mounted:function(){this.getCompanyList()},methods:{isAnth:function(t,s,n){"zh"==t&&(-1!==s&&0!==s?this.$router.push({name:"accounts"}):(this.showtip=!0,this.tipsContent="企业未认证成功，请等待认证成功！")),"dk"==t&&(-1!==s&&0!==s?this.addCompany(n,"complete"):(this.showtip=!0,this.tipsContent="企业未认证成功，请等待认证成功！")),"yj"==t&&(1==s?this.$router.push({name:"loan-matching",query:{companyId:n}}):(this.showtip=!0,this.tipsContent="企业未认证成功或为完善贷款需求！"))},setMainCamp:function(t){var s=this,n={companyId:t};a.a.post("/sysCompany/setMainCompany",n,"nauth").then(function(n){0==n.code&&(s.getCompanyList(),s.$store.state.user.myBaseInfo.companyId=t)}).catch(function(t){})},moveIn:function(t){this.current=t,this.isMove=!0},MoveOut:function(){this.current=null,this.isMove=!1},getCompanyList:function(){var t=this;console.log("1");var s={userId:this.$store.state.user.myBaseInfo.userId};a.a.post("/sysCompany/getCompanyByUserId",s,"nauth").then(function(s){0==s.code&&(t.companyList=s.content,console.log(t.companyList))}).catch(function(t){})},addCompany:function(t,s){s&&"complete"==s?this.$router.push({name:"my-enterprice-info",query:{id:t.id}}):this.$router.push({name:"add-company"})},oneLoant:function(t){this.currCompany=t,this.showtips=!0},checked:function(){var t=this;this.showtips=!1,setTimeout(function(){t.$router.push({name:"add-company"})},100)},viewFailReason:function(t){var s=this;a.a.post("/sysCompany/getCertificationResult",{authenticationNo:t.authenticationNo},"nauth").then(function(n){if(0==n.code&&n.content){var a=[];n.content.length&&n.content.forEach(function(t){a.push(t.disableReason)}),s.reasonMask.show=!0,s.reasonMask.companyId=t.id,s.reasonMask.reasonMsgArr=a}})},handleClickMask:function(t){t?this.$router.push({name:"add-company",query:{type:"certificate",id:this.reasonMask.companyId}}):this.reasonMask.show=!1}}},e={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"company"},[t._l(t.companyList,function(s,a){return n("div",{staticClass:"company-item",on:{mouseenter:function(s){return t.moveIn(a)},mouseleave:t.MoveOut}},[n("div",{staticClass:"item-info"},[n("div",{staticClass:"left"},[s.isDefault?t._e():n("div",{staticClass:"i-flag"},[t._v("主企业")]),t._v(" "),n("div",{staticClass:"i-name"},[t._v(t._s(s.companyName))]),t._v(" "),n("Icon",{directives:[{name:"show",rawName:"v-show",value:1==s.authenticationStatus,expression:"item.authenticationStatus == 1"}],staticClass:"c-img",attrs:{type:"ios-checkmark-circle"}}),t._v(" "),n("Icon",{directives:[{name:"show",rawName:"v-show",value:0==s.authenticationStatus,expression:"item.authenticationStatus == 0"}],staticClass:"c-img-no",attrs:{type:"md-information-circle"}}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:-1==s.authenticationStatus,expression:"item.authenticationStatus == -1"}],staticClass:"iconfont icon-cuowu fail-icon"}),t._v(" "),n("span",{staticClass:"status"},[t._v(t._s(s.authenticationStatusStr))])],1),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"btns btn-act",on:{click:function(n){return t.isAnth("zh",s.authenticationStatus)}}},[t._v("账号管理")]),t._v(" "),n("div",{staticClass:"btns btn-edit",on:{click:function(n){return t.isAnth("dk",s.authenticationStatus,s)}}},[t._v("修改贷款需求")]),t._v(" "),n("div",{staticClass:"btns btn-one",on:{click:function(n){return t.isAnth("yj",s.authenticationStatus,s.id)}}},[t._v("一键贷款")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:-1==s.authenticationStatus&&0!=s.authenticationStatus,expression:"item.authenticationStatus == -1 && item.authenticationStatus != 0"}],staticClass:"btns btn-act",on:{click:function(n){return t.viewFailReason(s)}}},[t._v("查看失败原因\n        ")])])]),t._v(" "),n("div",{staticClass:"loan-info"},[s.loanMoney&&s.loanCycleStr?n("span",{staticClass:"l-i-tips"},[t._v("我的贷款需求：")]):t._e(),t._v(" "),s.loanMoney&&s.loanCycleStr?n("span",{staticClass:"l-i-money"},[t._v(t._s(s.loanMoney))]):t._e(),t._v(" "),s.loanMoney&&s.loanCycleStr?n("span",{staticClass:"l-i-tips"},[t._v("元")]):t._e(),t._v(" "),s.loanMoney&&s.loanCycleStr?n("span",{staticClass:"l-i-tips",staticStyle:{"margin-left":"3.229vw"}},[t._v("贷款周期："+t._s(s.loanCycleStr)+"个月")]):t._e(),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:a==t.current&&t.isMove,expression:"index == current && isMove"}],staticClass:"l-i-change",on:{click:function(n){return t.setMainCamp(s.id)}}},[t._v("设为主企业")])])])}),t._v(" "),n("div",{staticClass:"add-comp"},[n("div",{staticClass:"add-info",on:{click:t.addCompany}},[n("Icon",{staticClass:"add-btn",attrs:{type:"md-add-circle"}}),t._v(" "),n("span",[t._v("添加企业")])],1)]),t._v(" "),n("Modal",{attrs:{"class-name":"tips-com",closable:!1},model:{value:t.showtips,callback:function(s){t.showtips=s},expression:"showtips"}},[n("div",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("提示")]),t._v(" "),n("p",[t._v(t._s(t.tipsTitle))]),t._v(" "),n("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"btns btn-cancel",on:{click:function(s){t.showtips=!1}}},[t._v("取消")]),t._v(" "),n("div",{staticClass:"btns btn-check",on:{click:t.checked}},[t._v("确定")])])]),t._v(" "),n("Modal",{attrs:{"class-name":"tips-com",closable:!1},model:{value:t.showtip,callback:function(s){t.showtip=s},expression:"showtip"}},[n("div",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v("提示")]),t._v(" "),n("p",[t._v(t._s(t.tipsContent))]),t._v(" "),n("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"btns btn-check",on:{click:function(s){t.showtip=!1}}},[t._v("确定")])])]),t._v(" "),n("mask-layer",{staticClass:"reason-mask",attrs:{show:t.reasonMask.show,"title-name":"","box-width":"28.646vw"},on:{close:function(s){return t.handleClickMask(!1)}}},[n("template",{slot:"content"},[n("p",{staticClass:"icon-box"},[n("i",{staticClass:"iconfont icon-cuowu"})]),t._v(" "),n("div",{staticClass:"reason-content"},[n("p",[t._v("非常抱歉，您提交的资料认证失败，失败原因为：")]),t._v(" "),t._l(t.reasonMask.reasonMsgArr,function(s,a){return n("p",{key:a},[t._v(t._s(a+1+"、"+s)+"；")])})],2),t._v(" "),n("div",{staticClass:"btns btn-one",on:{click:function(s){return t.handleClickMask(!0)}}},[t._v("重新认证")])])],2)],2)},staticRenderFns:[]};var o=n("C7Lr")(i,e,!1,function(t){n("0Sx6"),n("ub2f")},"data-v-94280bbe",null);s.default=o.exports},ub2f:function(t,s){}});