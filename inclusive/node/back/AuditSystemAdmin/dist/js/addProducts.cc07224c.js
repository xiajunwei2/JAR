(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addProducts"],{"5df9":function(e,r,l){"use strict";l.r(r);var o=function(){var e=this,r=e.$createElement,l=e._self._c||r;return l("div",{staticClass:"index"},[l("div",{staticClass:"index_title"},[e._v(e._s(e.title))]),l("div",{staticClass:"index_form"},[l("el-form",{ref:"addProducts",staticClass:"demo-ruleForm",attrs:{disabled:this.$route.params.flag,model:e.ruleForm,rules:e.rules,"label-width":"5.208vw"}},[l("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[l("el-input",{attrs:{placeholder:"请填写"},model:{value:e.ruleForm.productName,callback:function(r){e.$set(e.ruleForm,"productName",r)},expression:"ruleForm.productName"}})],1),l("el-form-item",{attrs:{prop:"mechanism",label:"金融机构"}},[l("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.ruleForm.mechanism,callback:function(r){e.$set(e.ruleForm,"mechanism",r)},expression:"ruleForm.mechanism"}},e._l(e.$store.state.sysCodegetCode.AllMechanism,(function(e){return l("el-option",{key:e.id,attrs:{label:e.companyName,value:e.id}})})),1)],1),l("el-form-item",{attrs:{prop:"loanType",label:"贷款类型"}},[l("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.ruleForm.loanType,callback:function(r){e.$set(e.ruleForm,"loanType",r)},expression:"ruleForm.loanType"}},e._l(e.$store.state.getAllType,(function(e){return l("el-option",{key:e.id,attrs:{label:e.type,value:e.id}})})),1)],1),l("el-form-item",{attrs:{label:"贷款利率",prop:"loanRate"}},[l("el-input",{attrs:{placeholder:"请填写"},model:{value:e.ruleForm.loanRate,callback:function(r){e.$set(e.ruleForm,"loanRate",r)},expression:"ruleForm.loanRate"}})],1),l("el-form-item",{attrs:{label:"贷款金额",prop:"loanMoneyUp"}},[l("el-input-number",{attrs:{min:0,label:"最低金额"},on:{blur:e.minNums},model:{value:e.ruleForm.loanMoneyDown,callback:function(r){e.$set(e.ruleForm,"loanMoneyDown",r)},expression:"ruleForm.loanMoneyDown"}}),e._v(" --- "),l("el-input-number",{attrs:{min:0,label:"最高金额"},model:{value:e.ruleForm.loanMoneyUp,callback:function(r){e.$set(e.ruleForm,"loanMoneyUp",r)},expression:"ruleForm.loanMoneyUp"}}),e._v("万元 ")],1),l("el-form-item",{attrs:{prop:"loanCycleUp",label:"贷款周期"}},[l("el-input-number",{attrs:{min:0,label:"贷款周期下限"},model:{value:e.ruleForm.loanCycleDown,callback:function(r){e.$set(e.ruleForm,"loanCycleDown",r)},expression:"ruleForm.loanCycleDown"}}),e._v(" --- "),l("el-input-number",{attrs:{min:0,label:"贷款周期上限"},model:{value:e.ruleForm.loanCycleUp,callback:function(r){e.$set(e.ruleForm,"loanCycleUp",r)},expression:"ruleForm.loanCycleUp"}}),e._v("个月 ")],1),l("el-form-item",{attrs:{label:"抵押率",prop:"mortmortgageRategageRate"}},[l("el-input",{attrs:{placeholder:"请填写"},model:{value:e.ruleForm.mortgageRate,callback:function(r){e.$set(e.ruleForm,"mortgageRate",r)},expression:"ruleForm.mortgageRate"}})],1),l("el-form-item",{attrs:{label:"产品简介",prop:"introduce"}},[l("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请填写"},model:{value:e.ruleForm.introduce,callback:function(r){e.$set(e.ruleForm,"introduce",r)},expression:"ruleForm.introduce"}})],1),l("el-form-item",{attrs:{label:"申请对象",prop:"applicants"}},[l("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请填写"},model:{value:e.ruleForm.applicants,callback:function(r){e.$set(e.ruleForm,"applicants",r)},expression:"ruleForm.applicants"}})],1),l("el-form-item",{attrs:{label:"申请要求"}},[l("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请填写"},model:{value:e.ruleForm.requirements,callback:function(r){e.$set(e.ruleForm,"requirements",r)},expression:"ruleForm.requirements"}})],1),l("el-form-item",{attrs:{label:"资料清单"}},[l("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请填写"},model:{value:e.ruleForm.information,callback:function(r){e.$set(e.ruleForm,"information",r)},expression:"ruleForm.information"}})],1),e.$route.params.flag?e._e():l("el-form-item",[l("el-button",{attrs:{type:"danger"},on:{click:function(r){return e.save("addProducts")}}},[e._v("保存")])],1)],1)],1)])},t=[],a=l("4ec3"),n={data:function(){return{flag:!1,title:"添加产品",ruleForm:{id:"",productName:"",mechanism:"",loanType:"",loanRate:"",loanMoneyDown:null,loanMoneyUp:null,loanCycleUp:"",loanCycleDown:"",mortgageRate:"",introduce:"",applicants:"",information:"",requirements:""},rules:{loanType:[{required:!0,message:"请选择贷款类型",trigger:"change"}],loanMoneyUp:[{required:!0,message:"请填写贷款金额",trigger:"blur"}],loanCycleUp:[{required:!0,message:"请选择贷款周期",trigger:"change"}],mortgageRate:[{required:!0,message:"请填写活动形式",trigger:"blur"}],Introduction:[{required:!0,message:"请填写活动形式",trigger:"blur"}],item:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}},mounted:function(){var e=this;if(console.log(this.$route.params),this.$route.params.id){console.log("");var r={id:this.$route.params.id};this.$store.commit("loadingChange",!0),a["a"].productInfogetProductInfoDetail(r).then((function(r){e.$store.commit("loadingChange",!1),0==r.code?(e.$route.params.flag?e.title="《 "+r.content.productName+" 》详情页":e.title="《 "+r.content.productName+" 》编辑",e.ruleForm=r.content):e.$message.error(r.msg)}))}},methods:{minNums:function(){(this.ruleForm.loanMoneyDown<0||this.ruleForm.loanMoneyUp<0)&&(this.$message.error("贷款不能为负数!"),this.ruleForm.loanMoneyDown=0,this.ruleForm.loanMoneyUp=0)},save:function(e){var r=this,l=this;this.$refs[e].validate((function(o){if(o){var t=r.ruleForm;r.$store.commit("loadingChange",!0),a["a"].productInfoaddOrUpdateProductInfo(t).then((function(o){r.$store.commit("loadingChange",!1),0==o.code?(r.$refs[e].resetFields(),r.$route.params&&(r.$message.success("产品修改成功"),l.$router.push({name:"financialProduct"})),r.this.$route.params||(r.$message.success("产品添加成功"),l.$router.push({name:"financialProduct"}))):r.$message.error(o.msg)}))}}))}}},s=n,i=(l("849b"),l("9ca4")),u=Object(i["a"])(s,o,t,!1,null,"41c7a599",null);r["default"]=u.exports},"849b":function(e,r,l){"use strict";var o=l("85ee"),t=l.n(o);t.a},"85ee":function(e,r,l){}}]);